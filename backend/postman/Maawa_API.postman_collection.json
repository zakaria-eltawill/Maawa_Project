{
	"info": {
		"_postman_id": "maawa-api-v1",
		"name": "Maawa API v1",
		"description": "Complete API collection for Maawa property rental marketplace.\n\n## Features:\n- JWT Authentication (access + refresh tokens)\n- User Management (phone_number in Libyan format: 09XXXXXXXX)\n- Property Listings & Management\n- Booking System with Conflict Prevention\n- Owner Decisions (Accept/Reject Bookings)\n- Proposal System\n- Review System\n- Push Notifications (FCM)\n- Role-Based Access Control (Tenant, Owner, Admin)\n\n## Role-Based Access:\n- **Tenant:** Can explore all properties, see own bookings\n- **Owner:** Can see own properties, all bookings on their properties\n- **Admin:** Full access to all properties and bookings with complete information\n\n## Important Notes:\n- Phone numbers must be 10 digits starting with 09 (e.g., 0912345678)\n- Bookings use strict Airbnb-style overlap prevention (returns 409 Conflict)\n- Properties endpoint filters by role (Tenant: all, Owner: own, Admin: all)\n- Bookings endpoint filters by role (Tenant: own, Owner: property bookings, Admin: all)\n- Admin notifications are managed via web admin panel\n- Payment confirmations automatically send push + email notifications\n- Profile updates require current_password when changing password\n- All timestamps use ISO 8601 format",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "maawa"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('access_token', jsonData.access_token);",
									"    pm.environment.set('refresh_token', jsonData.refresh_token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Osama Ellafi\",\n    \"email\": \"osama@example.com\",\n    \"password\": \"osama123\",\n    \"password_confirmation\": \"osama123\",\n    \"role\": \"owner\",\n    \"phone_number\": \"0912345678\",\n    \"region\": \"Benghazi\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register a new user (tenant/owner).\n\n**Required Fields:**\n- name (2-80 characters)\n- email (unique)\n- password (min 8 characters)\n- password_confirmation (must match password)\n- role (tenant or owner)\n- phone_number (10 digits, format: 09XXXXXXXX, e.g., 0912345678)\n- region (max 100 characters)\n\n**Returns:**\n- 201 Created: User registered successfully with JWT tokens\n- 422 Unprocessable Entity: Validation errors"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('access_token', jsonData.access_token);",
									"    pm.environment.set('refresh_token', jsonData.refresh_token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"john@example.com\",\n    \"password\": \"password123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login and receive access & refresh tokens. Only active users (is_active=true) can login. Inactive users will receive a 401 error."
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('access_token', jsonData.access_token);",
									"    pm.environment.set('refresh_token', jsonData.refresh_token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh_token\": \"{{refresh_token}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"refresh"
							]
						},
						"description": "Exchange refresh_token for a new access token (rotating). Only active users can refresh tokens. Refresh tokens are rotated on each use for security."
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"all\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"logout"
							]
						},
						"description": "Logout (revoke current refresh token or all)"
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"me"
							]
						},
						"description": "Get current authenticated user profile.\n\n**Returns:**\n- User object with: id, name, email, phone_number, region, role\n\n**Authentication:** Bearer token required"
					},
					"response": []
				},
				{
					"name": "Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Ahmed Ali Updated\",\n    \"phone_number\": \"0999888777\",\n    \"region\": \"Tripoli\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"me"
							]
						},
						"description": "Update current authenticated user profile.\n\n**Optional Fields:**\n- name (2-80 characters)\n- phone_number (10 digits, format: 09XXXXXXXX, must be unique)\n- region (max 100 characters)\n\n**Password Change:**\nTo change password, include:\n- current_password (required)\n- password (min 8 characters)\n- password_confirmation (must match password)\n\n**Returns:**\n- 200 OK: Profile updated successfully\n- 422 Unprocessable Entity: Validation errors\n\n**Authentication:** Bearer token required"
					},
					"response": []
				},
				{
					"name": "Update Profile (Change Password)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"current_password\": \"oldpassword123\",\n    \"password\": \"newpassword456\",\n    \"password_confirmation\": \"newpassword456\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"me"
							]
						},
						"description": "Change user password.\n\n**Required Fields:**\n- current_password (for verification)\n- password (new password, min 8 characters)\n- password_confirmation (must match new password)\n\n**Returns:**\n- 200 OK: Password changed successfully\n- 422 Unprocessable Entity: Validation errors (wrong current password, weak password, etc.)\n\n**Authentication:** Bearer token required"
					},
					"response": []
				}
			]
		},
		{
			"name": "Properties",
			"item": [
				{
					"name": "List Properties",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/properties?city=Benghazi&type=apartment&min_price=100&max_price=500&per_page=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"properties"
							],
							"query": [
								{
									"key": "city",
									"value": "Benghazi",
									"description": "Filter by city"
								},
								{
									"key": "type",
									"value": "apartment",
									"description": "apartment, villa, chalet"
								},
								{
									"key": "min_price",
									"value": "100"
								},
								{
									"key": "max_price",
									"value": "500"
								},
								{
									"key": "per_page",
									"value": "20"
								}
							]
						},
						"description": "List properties with role-based access.\n\n**Role-based filtering:**\n- **Tenant:** Can explore all properties (full browse mode)\n- **Owner:** Can only see their own properties (management mode)\n- **Admin:** Can see all properties with full management access\n\n**Response format:**\n- Returns PropertySummaryResource (summary view)\n- Each property includes: id, title, city, type, price, thumbnail, avg_rating\n- Owner information is NOT included in summary (use GET /properties/{id} for owner details)\n\n**Query Parameters:**\n- city: Filter by city\n- type: Filter by property type (apartment, villa, chalet)\n- min_price: Minimum price filter\n- max_price: Maximum price filter\n- per_page: Results per page (max 50)\n\n**Note:** For complete property details including owner information, use GET /properties/{id}\n\n**Authentication:** Bearer token required"
					},
					"response": []
				},
				{
					"name": "Get Property by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/properties/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"properties",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "Property UUID"
								}
							]
						},
						"description": "Get a property by ID.\n\n**Response includes:**\n- Full property details (title, description, city, type, price, photos, amenities)\n- Location object with latitude, longitude, and map_url (Google Maps link or stored location_url)\n- **Owner information** (id, name, phone_number, email, region) - Complete owner contact details\n- Availability information (unavailable_dates)\n- Reviews count and average rating\n\n**Role-based response:**\n- **Tenant/Admin:** Returns PropertyDetailResource with full owner information\n- **Owner viewing own property:** Returns PropertyOwnerResource with statistics (no owner info)\n\n**Owner object structure:**\n```json\n{\n  \"owner\": {\n    \"id\": \"uuid\",\n    \"name\": \"Owner Name\",\n    \"phone_number\": \"0912345678\",\n    \"email\": \"owner@example.com\",\n    \"region\": \"Tripoli\"\n  }\n}\n```\n\n**Use this endpoint for:**\n- Property detail page for tenants (with owner contact info)\n- Property detail page for owners (with statistics)\n- Displaying owner contact button/phone number\n\n**Authentication:** Bearer token required"
					},
					"response": []
				},
				{
					"name": "List Property Reviews",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/properties/:id/reviews",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"properties",
								":id",
								"reviews"
							],
							"query": [
								{
									"key": "per_page",
									"value": "20"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "Property UUID"
								}
							]
						},
						"description": "List reviews for a property"
					},
					"response": []
				},
				{
					"name": "Get Owner Properties",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/owner/properties?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "properties"],
							"query": [
								{"key": "city", "value": "", "description": "Filter by city"},
								{"key": "type", "value": "", "description": "Filter by type (apartment, villa, chalet)"},
								{"key": "min_price", "value": "", "description": "Minimum price"},
								{"key": "max_price", "value": "", "description": "Maximum price"},
								{"key": "per_page", "value": "20", "description": "Results per page (max 50)"}
							]
						},
						"description": "Get all properties owned by the authenticated owner.\n\n**Owner-specific endpoint** - Returns all properties owned by the authenticated owner with full details.\n\n**Access:** Only owners can access (403 Forbidden for tenants/admins)\n\n**Response includes:**
- Full property details with all photos (handles both string URLs and array format)
- Statistics (bookings_count, reviews_count, avg_rating, total_revenue)
- Version number for conflict prevention
- Note: Owner information is not included (owner already knows their own info)\n\n**Use this endpoint for:**
- Displaying owner's property list with images
- Showing property cards with complete information
- Accessing owner-specific data for editing\n\n**Authentication:** Bearer token required (owner role)"
					},
					"response": []
				},
				{
					"name": "Get Owner Property by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/owner/properties/:id",
							"host": ["{{base_url}}"],
							"path": ["owner", "properties", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "Property UUID"
								}
							]
						},
						"description": "Get detailed information about a specific property owned by the authenticated owner.\n\n**Owner-specific endpoint** - Returns detailed property information with owner-specific data.\n\n**Access:** Only owners can access (403 Forbidden for tenants/admins)\n**Authorization:** Owner can only access their own properties (403 if property belongs to another owner)\n\n**Response includes:**
- Full property details with all photos (handles both string URLs and array format)
- Statistics (bookings_count, reviews_count, avg_rating, total_revenue)
- Version number for conflict prevention
- Note: Owner information is not included (owner already knows their own info)\n\n**Use this endpoint for:**
- Property detail page for owners
- Edit property form (pre-fill with current data)
- Viewing owner-specific statistics\n\n**Authentication:** Bearer token required (owner role)"
					},
					"response": []
				},
				{
					"name": "Create Edit Proposal for Property",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Property Title\",\n    \"description\": \"Updated description\",\n    \"price\": 900.00,\n    \"photos\": [\n        \"http://3.68.75.38/storage/properties/image1.jpg\",\n        \"http://3.68.75.38/storage/properties/image2.jpg\"\n    ],\n    \"amenities\": [\"wifi\", \"parking\", \"pool\"],\n    \"location\": {\n        \"latitude\": 32.0679175,\n        \"longitude\": 20.0850292\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/owner/properties/:id",
							"host": ["{{base_url}}"],
							"path": ["owner", "properties", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "Property UUID"
								}
							]
						},
						"description": "Create an EDIT proposal for a property owned by the authenticated owner.\n\n**Owner-specific endpoint** - Creates a PENDING proposal that requires admin approval.\n\n**Workflow:**
1. Owner submits property changes via this endpoint
2. System creates a PENDING proposal
3. Admin reviews and approves/rejects in admin panel
4. If approved, property is updated with new information
5. Property appears in owner's properties list with updated data\n\n**Access:** Only owners can access (403 Forbidden for tenants/admins)\n**Authorization:** Owner can only create proposals for their own properties (403 if property belongs to another owner)\n\n**Proposal Rules:**
- All fields are optional (partial updates supported)
- Only include fields you want to update
- Version is automatically set from current property version
- Photos must be valid URLs (from /v1/upload endpoint)\n\n**Request Body (all fields optional):**
- title: Property title (max 200 chars)
- description: Property description (max 5000 chars)
- city: City name (max 80 chars)
- type: Property type (apartment, villa, chalet)
- price: Price per night (min 0)
- location: Location object with latitude, longitude, map_url
- amenities: Array of amenity strings (max 50 chars each)
- photos: Array of photo URLs (max 20 photos, from /v1/upload)
- unavailable_dates: Array of date strings\n\n**Response:**\n```json\n{\n  \"id\": \"proposal-uuid\",\n  \"status\": \"PENDING\",\n  \"message\": \"Edit proposal created. Waiting for admin approval.\"\n}\n```\n\n**Note:** Property is NOT updated immediately. Changes are pending admin approval.\n\n**Authentication:** Bearer token required (owner role)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Bookings",
			"item": [
				{
					"name": "List Bookings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/bookings?status=PENDING&per_page=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"bookings"
							],
							"query": [
								{
									"key": "status",
									"value": "PENDING",
									"description": "PENDING, ACCEPTED, CONFIRMED, REJECTED, CANCELED, EXPIRED, COMPLETED, FAILED"
								},
								{
									"key": "from",
									"value": "",
									"description": "From date (YYYY-MM-DD)"
								},
								{
									"key": "to",
									"value": "",
									"description": "To date (YYYY-MM-DD)"
								},
								{
									"key": "per_page",
									"value": "20"
								}
							]
						},
						"description": "List bookings with role-based access (general endpoint).\n\n**Note:** For role-specific endpoints, use:\n- `/v1/owner/bookings` - Owner-specific endpoint\n- `/v1/tenant/bookings` - Tenant-specific endpoint\n\n**Role-based filtering:**\n- **Tenant:** Returns only bookings created by the tenant\n- **Owner:** Returns all bookings made on properties owned by the owner\n- **Admin:** Returns all bookings with complete information (full management access)\n\n**Response includes:**\n- Booking details (id, check_in, check_out, guests, total, status, payment_due_at)\n- Nested property details:\n  - Tenant/Owner: id, title, type, city, price, thumbnail\n  - Admin: id, title, type, owner_id, city, price, thumbnail\n- Nested tenant details (complete contact information):\n  - All roles: id, name, email, phone_number, region\n\n**Query Parameters:**\n- status: Filter by booking status (PENDING, ACCEPTED, CONFIRMED, etc.)\n- from: Filter bookings from date\n- to: Filter bookings to date\n- per_page: Results per page (max 50)\n\n**Authentication:** Bearer token required"
					},
					"response": []
				},
				{
					"name": "Create Booking",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('booking_id', jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Idempotency-Key",
								"value": "{{$randomUUID}}",
								"description": "Idempotency key (required)"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"property_id\": \"{{property_id}}\",\n    \"check_in\": \"2025-12-01\",\n    \"check_out\": \"2025-12-05\",\n    \"guests\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/bookings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"bookings"
							]
						},
						"description": "Create a new booking (status: PENDING).\n\n**Required Fields:**\n- property_id (UUID)\n- check_in (date, must be today or future)\n- check_out (date, must be after check_in)\n- guests (integer, min: 1)\n\n**Conflict Prevention:**\nUses strict Airbnb-style overlap detection. Returns 409 Conflict if dates overlap with existing PENDING, ACCEPTED, or CONFIRMED bookings.\n\n**Returns:**\n- 201 Created: Booking created successfully\n- 409 Conflict: Date range unavailable (detail: 'date_range_unavailable')\n- 422 Unprocessable Entity: Validation errors\n\n**Authentication:** Bearer token required (tenant role)"
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings?status=PENDING&per_page=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"owner",
								"bookings"
							],
							"query": [
								{
									"key": "status",
									"value": "PENDING",
									"description": "Filter by booking status"
								},
								{
									"key": "from",
									"value": "",
									"description": "Filter bookings from date (YYYY-MM-DD)"
								},
								{
									"key": "to",
									"value": "",
									"description": "Filter bookings to date (YYYY-MM-DD)"
								},
								{
									"key": "per_page",
									"value": "20",
									"description": "Results per page (max 50)"
								}
							]
						},
						"description": "Get all bookings for owner's properties.\n\n**Owner-specific endpoint** - Returns all bookings made on properties owned by the authenticated owner.\n\n**Access:** Only owners can access this endpoint (403 Forbidden for tenants/admins)\n\n**Response includes:**\n- Booking details (id, check_in, check_out, guests, total, status)\n- Nested property details (id, title, type, owner_id)\n- Nested tenant details (id, name, email, phone_number, region) - Complete tenant contact information\n\n**Query Parameters:**\n- status: Filter by booking status (PENDING, ACCEPTED, CONFIRMED, etc.)\n- from: Filter bookings from date\n- to: Filter bookings to date\n- per_page: Results per page (max 50)\n\n**Authentication:** Bearer token required (owner role)"
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings?status=PENDING&per_page=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tenant",
								"bookings"
							],
							"query": [
								{
									"key": "status",
									"value": "PENDING",
									"description": "Filter by booking status"
								},
								{
									"key": "from",
									"value": "",
									"description": "Filter bookings from date (YYYY-MM-DD)"
								},
								{
									"key": "to",
									"value": "",
									"description": "Filter bookings to date (YYYY-MM-DD)"
								},
								{
									"key": "per_page",
									"value": "20",
									"description": "Results per page (max 50)"
								}
							]
						},
						"description": "Get all bookings for tenant.\n\n**Tenant-specific endpoint** - Returns all bookings created by the authenticated tenant.\n\n**Access:** Only tenants can access this endpoint (403 Forbidden for owners/admins)\n\n**Response includes:**\n- Booking details (id, check_in, check_out, guests, total, status)\n- Nested property details (id, title, type, owner_id)\n- Nested tenant details (id, name, email, phone_number, region) - Complete tenant contact information\n\n**Query Parameters:**\n- status: Filter by booking status (PENDING, ACCEPTED, CONFIRMED, etc.)\n- from: Filter bookings from date\n- to: Filter bookings to date\n- per_page: Results per page (max 50)\n\n**Authentication:** Bearer token required (tenant role)"
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - PENDING",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/pending?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "pending"],
							"query": [
								{"key": "from", "value": "", "description": "Filter from date (YYYY-MM-DD)"},
								{"key": "to", "value": "", "description": "Filter to date (YYYY-MM-DD)"},
								{"key": "per_page", "value": "20", "description": "Results per page (max 50)"}
							]
						},
						"description": "Get all PENDING bookings for owner's properties.\n\n**Owner-specific endpoint** - Returns bookings with PENDING status on properties owned by the authenticated owner.\n\n**Access:** Only owners can access (403 Forbidden for tenants/admins)\n\n**Authentication:** Bearer token required (owner role)"
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - ACCEPTED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/accepted?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "accepted"],
							"query": [
								{"key": "from", "value": "", "description": "Filter from date (YYYY-MM-DD)"},
								{"key": "to", "value": "", "description": "Filter to date (YYYY-MM-DD)"},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all ACCEPTED bookings for owner's properties. Only owners can access."
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - CONFIRMED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/confirmed?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "confirmed"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all CONFIRMED bookings for owner's properties. Only owners can access."
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - REJECTED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/rejected?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "rejected"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all REJECTED bookings for owner's properties. Only owners can access."
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - CANCELED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/canceled?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "canceled"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all CANCELED bookings for owner's properties. Only owners can access."
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - EXPIRED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/expired?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "expired"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all EXPIRED bookings for owner's properties. Only owners can access."
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - COMPLETED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/completed?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "completed"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all COMPLETED bookings for owner's properties. Only owners can access."
					},
					"response": []
				},
				{
					"name": "Get Owner Bookings - FAILED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/owner/bookings/failed?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["owner", "bookings", "failed"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all FAILED bookings for owner's properties. Only owners can access."
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - PENDING",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/pending?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "pending"],
							"query": [
								{"key": "from", "value": "", "description": "Filter from date (YYYY-MM-DD)"},
								{"key": "to", "value": "", "description": "Filter to date (YYYY-MM-DD)"},
								{"key": "per_page", "value": "20", "description": "Results per page (max 50)"}
							]
						},
						"description": "Get all PENDING bookings for tenant.\n\n**Tenant-specific endpoint** - Returns bookings with PENDING status created by the authenticated tenant.\n\n**Access:** Only tenants can access (403 Forbidden for owners/admins)\n\n**Authentication:** Bearer token required (tenant role)"
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - ACCEPTED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/accepted?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "accepted"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all ACCEPTED bookings for tenant. Only tenants can access."
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - CONFIRMED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/confirmed?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "confirmed"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all CONFIRMED bookings for tenant. Only tenants can access."
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - REJECTED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/rejected?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "rejected"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all REJECTED bookings for tenant. Only tenants can access."
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - CANCELED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/canceled?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "canceled"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all CANCELED bookings for tenant. Only tenants can access."
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - EXPIRED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/expired?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "expired"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all EXPIRED bookings for tenant. Only tenants can access."
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - COMPLETED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/completed?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "completed"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all COMPLETED bookings for tenant. Only tenants can access."
					},
					"response": []
				},
				{
					"name": "Get Tenant Bookings - FAILED",
					"request": {
						"method": "GET",
						"header": [
							{"key": "Authorization", "value": "Bearer {{access_token}}"}
						],
						"url": {
							"raw": "{{base_url}}/tenant/bookings/failed?per_page=20",
							"host": ["{{base_url}}"],
							"path": ["tenant", "bookings", "failed"],
							"query": [
								{"key": "from", "value": ""},
								{"key": "to", "value": ""},
								{"key": "per_page", "value": "20"}
							]
						},
						"description": "Get all FAILED bookings for tenant. Only tenants can access."
					},
					"response": []
				},
				{
					"name": "Owner Decision (Accept/Reject)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"decision\": \"ACCEPT\",\n    \"reason\": \"Approved for booking\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/owner/bookings/:id/decision",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"owner",
								"bookings",
								":id",
								"decision"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{booking_id}}",
									"description": "Booking UUID"
								}
							]
						},
						"description": "Owner accepts or rejects a booking.\n\n**Required Fields:**\n- decision ('ACCEPT' or 'REJECT')\n- reason (optional, string)\n\n**Authorization:**\n- Only property owners can make decisions\n- Only for their own properties\n- Only for PENDING bookings\n\n**Status Changes:**\n- ACCEPT: PENDING → ACCEPTED\n- REJECT: PENDING → REJECTED\n\n**Returns:**\n- 200 OK: Decision recorded successfully\n- 403 Forbidden: Not authorized\n- 422 Unprocessable Entity: Invalid status or decision\n\n**Authentication:** Bearer token required (owner role)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Mock Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Idempotency-Key",
								"value": "{{$randomUUID}}",
								"description": "Idempotency key (required)"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"booking_id\": \"{{booking_id}}\",\n    \"fail\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/payments/mock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"payments",
								"mock"
							]
						},
						"description": "Mock payment endpoint to finalize a booking. Set \"fail\" to true to simulate a failed payment (booking status=FAILED). When successful, booking status becomes CONFIRMED. Both outcomes trigger push + email notifications to the tenant and property owner."
					},
					"response": []
				}
			]
		},
		{
			"name": "Proposals",
			"item": [
				{
					"name": "Create Proposal (ADD)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const jsonData = pm.response.json();",
									"    pm.environment.set('proposal_id', jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
                            "raw": "{\n    \"type\": \"ADD\",\n    \"payload\": {\n        \"title\": \"Beautiful Apartment in Benghazi\",\n        \"description\": \"Spacious 2-bedroom apartment with sea view\",\n        \"city\": \"Benghazi\",\n        \"type\": \"apartment\",\n        \"price\": 250.00,\n        \"location\": {\n            \"latitude\": 32.115,\n            \"longitude\": 20.067\n        },\n        \"amenities\": [\"wifi\", \"parking\", \"balcony\"],\n        \"photos\": [\n            {\"url\": \"https://example.com/photo1.jpg\", \"position\": 0},\n            {\"url\": \"https://example.com/photo2.jpg\", \"position\": 1}\n        ]\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/proposals",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"proposals"
							]
						},
						"description": "Create owner proposal (ADD). Location with latitude and longitude is required. The system stores coordinates and can generate a map URL. Note: Admin panel uses location_url for editing properties."
					},
					"response": []
				},
				{
					"name": "Create Proposal (EDIT)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": \"EDIT\",\n    \"property_id\": \"{{property_id}}\",\n    \"version\": 1,\n    \"payload\": {\n        \"price\": 275.00,\n        \"description\": \"Updated description with new amenities\",\n        \"location\": {\n            \"latitude\": 32.120,\n            \"longitude\": 20.070\n        }\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/proposals",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"proposals"
							]
						},
						"description": "Create owner proposal (EDIT). Location with latitude/longitude is optional. Only include fields you want to update. The version must match the current property version to prevent conflicts."
					},
					"response": []
				},
				{
					"name": "Create Proposal (DELETE)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": \"DELETE\",\n    \"property_id\": \"{{property_id}}\",\n    \"reason\": \"Property no longer available for rent\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/proposals",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"proposals"
							]
						},
						"description": "Create owner proposal (DELETE)"
					},
					"response": []
				},
				{
					"name": "List Owner Proposals",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/owner/proposals?status=PENDING&per_page=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"owner",
								"proposals"
							],
							"query": [
								{
									"key": "status",
									"value": "PENDING",
									"description": "PENDING, APPROVED, REJECTED"
								},
								{
									"key": "per_page",
									"value": "20"
								}
							]
						},
						"description": "List proposals for current owner"
					},
					"response": []
				},
				{
					"name": "Get Owner Proposal by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/owner/proposals/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"owner",
								"proposals",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "Proposal UUID"
								}
							]
						},
						"description": "Get a single proposal owned by the authenticated owner.\n\n**Owner-specific endpoint** - Returns full proposal details.\n\n**Access:** Only owners can access (403 Forbidden for tenants/admins)\n**Authorization:** Owner can only view their own proposals (404 if proposal belongs to another owner)\n\n**Response includes:**\n- Full proposal details (id, type, status, payload, version, reason, etc.)\n- All proposal data including payload structure based on type (ADD/EDIT/DELETE)\n- Timestamps (created_at, updated_at, applied_at)\n\n**Response Example:**\n```json\n{\n  \"id\": \"proposal-uuid\",\n  \"owner_id\": \"owner-uuid\",\n  \"property_id\": \"property-uuid\",\n  \"type\": \"ADD\",\n  \"status\": \"PENDING\",\n  \"payload\": {\n    \"title\": \"Beautiful Apartment\",\n    \"description\": \"...\",\n    \"city\": \"Benghazi\",\n    \"type\": \"apartment\",\n    \"price\": 250.00,\n    \"location\": {\n      \"latitude\": 32.115,\n      \"longitude\": 20.067\n    },\n    \"amenities\": [\"wifi\", \"parking\"],\n    \"photos\": [\"http://...\"]\n  },\n  \"version\": null,\n  \"reason\": null,\n  \"notes\": null,\n  \"applied_at\": null\n}\n```\n\n**Status Codes:**\n- 200 OK: Proposal found and returned\n- 401 Unauthorized: Missing or invalid authentication token\n- 403 Forbidden: Not an owner\n- 404 Not Found: Proposal not found or not owned by authenticated owner\n\n**Authentication:** Bearer token required (owner role)"
					},
					"response": []
				},
				{
					"name": "Update Owner Proposal",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"payload\": {\n        \"title\": \"Updated Property Title\",\n        \"price\": 300.00,\n        \"description\": \"Updated description\",\n        \"photos\": [\n            \"http://3.68.75.38/storage/proposals/photo1.jpg\",\n            \"http://3.68.75.38/storage/proposals/photo2.jpg\"\n        ]\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/owner/proposals/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"owner",
								"proposals",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "Proposal UUID"
								}
							]
						},
						"description": "Update owner's proposal.\n\n**Update Rules:**\n- Only PENDING or REJECTED proposals can be updated\n- Owner can only update their own proposals\n- Status automatically becomes PENDING after update\n- All fields are optional (partial updates supported)\n- Proposal type cannot be changed\n\n**Request Body:**\n- For ADD proposals: Update `payload` object with property fields\n- For EDIT proposals: Update `payload`, `property_id`, or `version`\n- For DELETE proposals: Update `property_id` or `reason`\n\n**Response:**\n```json\n{\n  \"id\": \"proposal-uuid\",\n  \"status\": \"PENDING\",\n  \"message\": \"Proposal updated successfully. Status changed to PENDING.\"\n}\n```\n\n**Status Codes:**\n- 200 OK: Proposal updated successfully\n- 400 Bad Request: Proposal cannot be updated (not PENDING or REJECTED)\n- 401 Unauthorized: Missing or invalid authentication token\n- 403 Forbidden: Not an owner or not your proposal\n- 404 Not Found: Proposal not found\n- 422 Unprocessable Entity: Validation errors"
					},
					"response": []
				},
				{
					"name": "Delete Owner Proposal",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/owner/proposals/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"owner",
								"proposals",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "",
									"description": "Proposal UUID"
								}
							]
						},
						"description": "Delete owner's proposal.\n\n**Delete Rules:**\n- Only PENDING or REJECTED proposals can be deleted\n- Owner can only delete their own proposals\n- Hard delete from database (permanently removed)\n\n**Response:**\n```json\n{\n  \"message\": \"Proposal deleted successfully\"\n}\n```\n\n**Status Codes:**\n- 200 OK: Proposal deleted successfully\n- 400 Bad Request: Proposal cannot be deleted (not PENDING or REJECTED)\n- 401 Unauthorized: Missing or invalid authentication token\n- 403 Forbidden: Not an owner or not your proposal\n- 404 Not Found: Proposal not found"
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Admin Proposals Queue",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/admin/proposals?status=PENDING&per_page=20",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"proposals"
							],
							"query": [
								{
									"key": "status",
									"value": "PENDING",
									"description": "PENDING, APPROVED, REJECTED"
								},
								{
									"key": "owner_id",
									"value": "",
									"description": "Filter by owner UUID"
								},
								{
									"key": "from",
									"value": "",
									"description": "From date (YYYY-MM-DD)"
								},
								{
									"key": "to",
									"value": "",
									"description": "To date (YYYY-MM-DD)"
								},
								{
									"key": "per_page",
									"value": "20"
								}
							]
						},
						"description": "Admin proposals queue"
					},
					"response": []
				},
				{
					"name": "Review Proposal (APPROVED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Idempotency-Key",
								"value": "{{$randomUUID}}",
								"description": "Idempotency key (required)"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"decision\": \"APPROVED\",\n    \"notes\": \"Property looks good, approved for listing\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/admin/proposals/:id/review",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"proposals",
								":id",
								"review"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{proposal_id}}",
									"description": "Proposal UUID"
								}
							]
						},
						"description": "Review proposal (APPROVED/REJECTED)"
					},
					"response": []
				},
				{
					"name": "Review Proposal (REJECTED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Idempotency-Key",
								"value": "{{$randomUUID}}",
								"description": "Idempotency key (required)"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"decision\": \"REJECTED\",\n    \"notes\": \"Property does not meet quality standards\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/admin/proposals/:id/review",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin",
								"proposals",
								":id",
								"review"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{proposal_id}}",
									"description": "Proposal UUID"
								}
							]
						},
						"description": "Review proposal (APPROVED/REJECTED)"
					},
					"response": []
                },
                {
                    "name": "List Users",
                    "request": {
                        "method": "GET",
                        "header": [
                            { "key": "Authorization", "value": "Bearer {{access_token}}" }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users?role=&email=&per_page=20",
                            "host": ["{{base_url}}"],
                            "path": ["admin","users"],
                            "query": [
                                {"key":"role","value":"","description":"tenant, owner, admin"},
                                {"key":"email","value":"","description":"Filter by email contains"},
                                {"key":"from","value":"","description":"From date (YYYY-MM-DD)"},
                                {"key":"to","value":"","description":"To date (YYYY-MM-DD)"},
                                {"key":"per_page","value":"20"}
                            ]
                        },
                        "description": "List users (admin)"
                    },
                    "response": []
                },
                {
                    "name": "Update User Role",
                    "request": {
                        "method": "PATCH",
                        "header": [
                            { "key": "Authorization", "value": "Bearer {{access_token}}" },
                            { "key": "Content-Type", "value": "application/json" }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"role\": \"owner\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/admin/users/:id",
                            "host": ["{{base_url}}"],
                            "path": ["admin","users",":id"],
                            "variable": [
                                {"key":"id","value":"{{user_id}}","description":"User UUID"}
                            ]
                        },
                        "description": "Update user role"
                    },
                    "response": []
                },
                {
                    "name": "Delete User",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            { "key": "Authorization", "value": "Bearer {{access_token}}" }
                        ],
                        "url": {
                            "raw": "{{base_url}}/admin/users/:id",
                            "host": ["{{base_url}}"],
                            "path": ["admin","users",":id"],
                            "variable": [
                                {"key":"id","value":"{{user_id}}","description":"User UUID"}
                            ]
                        },
                        "description": "Delete user"
                    },
                    "response": []
                }
			]
		},
		{
			"name": "Reviews",
			"item": [
				{
					"name": "Create Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rating\": 5,\n    \"comment\": \"Excellent property, very clean and well-maintained!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/properties/:id/reviews",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"properties",
								":id",
								"reviews"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{property_id}}",
									"description": "Property UUID"
								}
							]
						},
						"description": "Create a review (tenant after COMPLETED stay)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Notifications (FCM)",
			"item": [
				{
					"name": "Store FCM Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"token\": \"fcm_device_token_example_12345\",\n    \"platform\": \"android\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/me/fcm-tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"me",
								"fcm-tokens"
							]
						},
						"description": "Add device FCM token"
					},
					"response": []
				},
				{
					"name": "Delete FCM Token",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/me/fcm-tokens/:token",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"me",
								"fcm-tokens",
								":token"
							],
							"variable": [
								{
									"key": "token",
									"value": "fcm_device_token_example_12345",
									"description": "FCM token to remove"
								}
							]
						},
						"description": "Remove device FCM token"
					},
					"response": []
				}
			]
		},
		{
			"name": "Files",
			"item": [
				{
					"name": "Upload Image",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": [],
									"description": "Image file to upload (JPEG, PNG, or WebP, max 10MB)"
								},
								{
									"key": "folder",
									"value": "proposals",
									"type": "text",
									"description": "Folder name to organize uploads (optional, e.g., 'proposals', 'properties', 'profiles')"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/upload",
							"host": ["{{base_url}}"],
							"path": ["upload"]
						},
						"description": "Upload an image file and receive a public URL.\n\n**File Requirements:**\n- Allowed types: JPEG, JPG, PNG, WebP\n- Maximum size: 10MB\n- Must be a valid image file\n\n**Request Format:**\n- Content-Type: multipart/form-data\n- file (required): The image file\n- folder (optional): Folder name to organize uploads (e.g., 'proposals', 'properties', 'profiles')\n\n**Response Format:**\n```json\n{\n  \"url\": \"https://api.maawa.example/storage/proposals/1234567890_abc123_my-image.jpg\",\n  \"id\": \"1234567890_abc123_my-image\",\n  \"filename\": \"my-image.jpg\"\n}\n```\n\n**Status Codes:**\n- 201 Created: Image uploaded successfully\n- 400 Bad Request: Invalid file format or missing file\n- 401 Unauthorized: Missing or invalid authentication token\n- 413 Payload Too Large: File size exceeds 10MB\n- 422 Unprocessable Entity: Validation errors\n\n**Use Cases:**\n- Property photos for proposals\n- Property listing images\n- User profile pictures\n\n**Authentication:** Bearer token required"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://maawa_project.test/v1",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "property_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "booking_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "proposal_id",
			"value": "",
			"type": "string"
        },
        {
            "key": "user_id",
            "value": "",
            "type": "string"
        }
	]
}

